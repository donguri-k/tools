<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="./css/main.css">
    <link rel="icon" href="/tools/favicon.ico">
    <title>donguri Arena Assist Tool</title>
  </head>
  <body>
    <header>
      <span><a href="/tools/">tools</a> &gt; arena-assist-tool</span>
    </header>
    <div class="wrapper">
      <h1>donguri Arena Assist Tool</h1>
      <div class="container">
        <div id="script">
          <h2>▼Script v1.0a</h2>
          <h3>v0.9以前を使用している場合は再登録してください。</h3>
          <p>Userscript版</p>
          <a href="script/arena_assist_tool.js">https://donguri-k.github.io/tools/script/arena_assist_tool.js</a>
          <p>Bookmarklet版</p>
          <textarea id="textarea" readonly style="width:100%">javascript:((d,j,s)=>{s=d.createElement('script');s.src=j;d.body.appendChild(s);})(document,'https://donguri-k.github.io/tools/script/arena_assist_tool.js');</textarea>
          <p><a href="https://donguri-k.github.io/tools/script/arena_assist_tool.js">キャッシュ更新用</a> リンク先を開いてからリロード</p>
        </div>
        <div id="how-to-use">
          <h2>▼使い方</h2>
          <details>
            <summary>Userscript版</summary>
            <p>PCブラウザの場合は拡張機能Tampermonkeyをインストールし、上記のURLからインポート または scriptをコピーして保存する。</p>
            <p>スマートフォンの場合はUserscript対応のブラウザを使用するか、拡張機能対応のブラウザでPCと同様にTampermonkeyをインストール。</p>
          </details>
          <details>
            <summary>Bookmarklet版</summary>
            <p>上記のscriptをコピーし、名前を付けてブックマークに保存する。</p>
            <p>どんぐりチーム戦いのページで実行。</p>
          </details>
          <h2>▼説明・機能紹介</h2>
          <p>とりあえず作成。まだまだ制作中。</p>
          <ul>
            <li>
              <p>[詳細取得] アリーナの制限とホルダーを表示、陣地の色と保有地域の更新</p>
              <p>[陣地更新] 色と保有地域の情報のみ更新</p>
              <p>読み込みに失敗した場合は、しばらく時間をおいてから再試行すること。</p>
              <p>※あまりにも短い間隔で詳細更新を連打しないよう。</p>
            </li>
            <li>装備制限でソート可能</li>
            <li style="list-style: none;">
              <ul style="padding:0">
                <li>
                  <p>[■装備] プリセット機能</p>
                  <p>[追加] 装備一覧を開き、各カテゴリの装備を選択し、名前を付けて登録。*武器と防具は必須</p>
                  <p>登録した装備を選択すると、登録した装備に付け替える（ネックレスが未登録の場合は武器と防具のみ付け替え）</p>
                  <p>*既に装備中のアイテムは再装備しない設計となっており、プリセット選択時に装備情報を記録している。
                    そのため、別タブでアイテムバッグから装備を直接変更した場合、装備中のアイテムの情報が更新されず正しく装備できない場合がある。対処法はリロードで装備情報のリセット。
                    特にネックレスは複数のプリセットで共通になることが多いため発生しやすい。
                  </p>
                </li>
                <li>
                  <p>[バックアップ] インポート／エクスポートが可能。（JSON形式のテキスト）</p>
                  <p>直接編集して名前の変更や並べ替えも可能。</p>
                  <p>書式が間違っているとうまく読み込めばいので、編集する場合は十分注意すること。JSONとしてのヴァリデーションチェックしかしていないので、間違った情報が保存される場合もある。空白で保存すると初期化。</p>
                </li>
              </ul>
            </li>
            <li>表示の問題をいくつか改善。具体的には、画面外にはみ出る問題を解消、画面幅に合わせた縮小表示、スマートフォンのみ一行あたり最大8マスまでに変更。</li>
            <li>アリーナをページ内で開き、対戦ログも表示するようにした。（改造はまだ）*レイアウト含め修正予定</li>
          </ul>
        </div>
        <div id="to-do">
          <h2>▼ To Do</h2>
          <ul>
            <li>レイアウトの改善、toolbarの挙動変更</li>
            <li>アリーナに挑戦する前に自動で装備を切り替える設定</li>
            <li>その他設定項目</li>
            <li>プログレスバーのマージン修正</li>
            <li>自動参加でトークンを稼ぐモード</li>
            <li>時間経過で自動更新に対応する？（需要があれば）</li>
            <li>その他 要望があれば順次</li>
            <li>見た目やUIに関しての改善点は多々あると思うので、フィードバックは歓迎</li>
          </ul>
          <p>行動回数の制限に伴い、ワンボタンで自動で勝つまで挑戦する機能は実装しないことにした</p>
        </div>
        <div id="credit">
          <h2>▼お借りしたもの</h2>
          <ul>
            <li>
              <a href="https://kes.5ch.net/test/read.cgi/donguri/1735334537/680">アリーナ情報取得 | どんぐりチームスレ★2【チーム戦】- 680</a>
            </li>
            <li>
              <a href="https://kes.5ch.net/test/read.cgi/donguri/1735820145/780">プログレスバー取得 | どんぐりチームスレ★3【チーム戦】- 780</a>
            </li>
            <!-- <li>
              <a href="https://kes.5ch.net/test/read.cgi/donguri/1736064025/660">自動挑戦するscript | どんぐりチームスレ★4【チーム戦】- 660</a>
            </li> -->
          </ul>
        </div>
        <div id="update" style="font-size:13px">
          <h2>▼更新履歴</h2>
          <dl>
            <dt>v1.0b - 2025/01/16</dt>
            <dd>装備メニューを枠外クリックで閉じるようにした</dd>
            <dd>無名のプリセットを保存できないようにした</dd>
            <dd>ボタンの位置等の微修正</dd>
            <dt>v1.0a - 2025/01/15</dt>
            <dd>装備プリセット機能追加</dd>
            <dd>名称変更</dd>
            <dt>v0.9d - 2025/01/07</dt>
            <dd>プログレスバー追加</dd>
            <dd>ボタンの位置変更</dd>
            <dd>アリーナログのスクロール初期位置を最下部に変更</dd>
            <dd>PC向けアリーナの表示幅変更</dd>
            <dt>v0.9c - 2025/01/06</dt>
            <dd>アリーナログのミスを修正</dd>
            <dd>ログの1行目に結果が表示されるようにした</dd>
            <dt>v0.9b - 2025/01/05</dt>
            <dd>グリッドの余白を削除。</dd>
            <dd>グリッド縮小のタイミングを変更</dd>
            <dt>v0.9a - 2025/01/05</dt>
            <dd>装備制限でのソートに対応</dd>
            <dd>対戦ログもダイアログで表示するようにした</dd>
            <dt>v0.8a - 2025/01/04</dt>
            <dd>未踏エリアの取得の問題を修正</dd>
            <dd>グリッドの縮小表示に対応</dd>
            <dd>アリーナを同一画面に表示するようにした（バトルログや強化/弱体はまだ）</dd>
            <dt>v0.7b - 2025/01/04</dt>
            <dd>陣地更新の問題を修正</dd>
            <dt>v0.7a - 2025/01/04</dt>
            <dd>初回リリース</dd>
          </dl>
        </div>
      </div>
    </div>
    <script>
      document.querySelector('#textarea').addEventListener('click',event=>{
        event.stopPropagation();
        const text = event.target.textContent;
        navigator.clipboard.writeText(text).then(alert('copy'));
      })
    </script>
  </body>
</html>
